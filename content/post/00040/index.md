---
title: ヒストグラム平坦化
tags:  ["OpenCV", "ヒストグラム平坦化"]
categories:  ["OpenCV生活", "画像処理"]
date: 2020-08-02 22:50:29 +0900
image: e534d7e8e9969a0405e4a1b8f7eea112.png
---
本記事はQrunchからの転載です。
___

今日はヒストグラム平坦化を扱います。

ヒストグラム平坦化はコントラストが偏っているような画像を補正します。
結果として、コントラストがある程度平坦化された結果が得られます。

処理の中身としては、実際には画像のピクセル値の累積分布関数で写像したうえで、最大値と最小値が広がるように調整してあげるというイメージです。

# OpenCVでヒストグラム平坦化

次の画像にヒストグラム平坦化を適用してみます。このままだと全くみえません。  
![](51cf7f08ccc657141d3e65ef1b466e4e.png)

この画像の画素値のヒストグラムは以下のとおりです。だいぶ偏ってますね。  
![](de36036169c411bbe353ffdf628df858.png)

ヒストグラム平坦化は次のようにしておこなえます。めちゃくちゃ簡単です。

```Python
res = cv2.equalizeHist(img)
```

![](e534d7e8e9969a0405e4a1b8f7eea112.png)  
ちゃんと見えるようになりましたね。

この画像の画素値のヒストグラムは以下のとおりです。  
![](e250638d16771a11e5bf8cc073ff4caf.png)
